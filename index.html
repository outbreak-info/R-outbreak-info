<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>outbreak.info R Client • outbreakinfo</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="outbreak.info R Client">
<meta property="og:description" content="This package retrieves up-to-date COVID-19 epidemiological and genomic data from outbreak.info.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-VK9KSJ8ENE"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VK9KSJ8ENE');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">outbreakinfo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/outbreakinfo.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/epivignette.html">Cases &amp; Deaths data</a>
    </li>
    <li>
      <a href="articles/locationtracker.html">Location Tracker</a>
    </li>
    <li>
      <a href="articles/researchlibrary.html">Research Library</a>
    </li>
    <li>
      <a href="articles/varianttracker.html">Variant Tracker</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/outbreak-info/R-outbreak-info/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="outbreakinfo-">outbreakinfo <img src="reference/figures/logo.png" align="right"><a class="anchor" aria-label="anchor" href="#outbreakinfo-"></a>
</h1></div>
<div class="section level4">
<h4 id="r-package-for-outbreakinfo">R package for <a href="https://outbreak.info" class="external-link">outbreak.info</a>
<a class="anchor" aria-label="anchor" href="#r-package-for-outbreakinfo"></a>
</h4>
<p><a href="https://outbreak.info" class="external-link">outbreak.info</a> is a platform to discover and explore COVID-19 data and variants. Our <a href="https://outbreak.info/situation-reports" class="external-link">Variant Reports</a> allow researchers to track any emerging or known variant using customizable visualizations, enabling near real-time genomic surveillance. Our <a href="https://outbreak.info/epidemiology" class="external-link">Epidemiology tools</a> allow users to explore how COVID-19 cases and deaths are changing across locations.</p>
<p>The <strong>outbreakinfo</strong> R package provides access to the underlying genomic and epidemiology data on outbreak.info. This includes <strong>SARS-CoV-2 variant prevalence</strong> data calculated using the <a href="https://github.com/andersen-lab/bjorn/" class="external-link">Bjorn</a> package using data provided by <a href="gisaid.org">GISAID</a>. We standardize <strong>COVID-19 case and death data</strong> from <a href="https://github.com/CSSEGISandData/COVID-19" class="external-link">Johns Hopkins University</a> and the <a href="https://github.com/nytimes/covid-19-data" class="external-link">New York Times</a> and calculate derived statistics.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install development version from GitHub</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"outbreak-info/R-outbreak-info"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>If you’re getting started using <strong>outbreakinfo</strong>, we recommend starting with our tutorial <a href="https://outbreak-info.github.io/R-outbreak-info/articles/index.html" class="external-link">vignettes</a>.</p>
<p>To access the genomic data (SARS-CoV-2 variant prevalences), you will need to <strong>create an account on <a href="https://www.gisaid.org/registration/register/" class="external-link">GISAID</a></strong> before being able to access the data. <em>It may take a few days for the registration to become active</em>. Before calling the genomics functions, you’ll need to register your GISAID credentials:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">outbreakinfo</span><span class="fu">::</span><span class="fu"><a href="reference/authenticateUser.html">authenticateUser</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>By using this R package you reaffirm your understanding of the terms of use and the DAA you agreed to while registering with GISAID. Please see <a href="#sars-cov-2-prevalence-data">this section</a> for more details.</p>
<p>Please view our <a href="https://outbreak-info.github.io/R-outbreak-info/articles/index.html" class="external-link">vignettes</a> for examples of how to use the R package.</p>
</div>
<div class="section level2">
<h2 id="related-projects">Related Projects<a class="anchor" aria-label="anchor" href="#related-projects"></a>
</h2>
<p>API access for outbreak.info’s <a href="https://outbreak.info/resources" class="external-link">Research Library</a>, which provides metadata on COVID-19 publications, pre-prints, clinical trials, datasets, protocols, and more is available on our <a href="https://api.outbreak.info/try/resources" class="external-link">API</a>. API access for the cases and deaths data is also available on our <a href="https://api.outbreak.info/try/covid19" class="external-link">API</a>. In addition to this R package, the Research Library and Cases &amp; Deaths API endpoints can be accessed through the <a href="https://httr.r-lib.org/" class="external-link">httr</a> R package or the the Python <a href="https://docs.python-requests.org/en/latest/" class="external-link">requests</a> package.</p>
<hr>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="genomic-data">Genomic data<a class="anchor" aria-label="anchor" href="#genomic-data"></a>
</h3>
<div class="section level4">
<h4 id="lineage--mutation-tracker">Lineage | Mutation Tracker<a class="anchor" aria-label="anchor" href="#lineage--mutation-tracker"></a>
</h4>
<p>Provides access to the prevalence of a lineage, mutation(s), or lineage with additional mutations, to access the data underlying the <a href="https://outbreak.info/situation-reports" class="external-link">outbreak.info Variant Tracker</a> - in this example, mutation [S:P681R] (<a href="https://outbreak.info/situation-reports?muts=S%3AP681R" class="external-link uri">https://outbreak.info/situation-reports?muts=S%3AP681R</a>). View the <a href="articles/varianttracker.html">Variant Tracker Vignette</a> to explore more options.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://outbreak-info.github.io/R-outbreak-info/" class="external-link">outbreakinfo</a></span><span class="op">)</span>
<span class="co">#  Provide GISAID credentials using authenticateUser()</span>
<span class="co"># Get the prevalence of mutation P681R in the Spike protein in Kansas over time.</span>
<span class="va">P681R</span> <span class="op">=</span> <span class="fu"><a href="reference/getPrevalence.html">getPrevalence</a></span><span class="op">(</span>mutations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S:P681R"</span><span class="op">)</span>, location <span class="op">=</span> <span class="st">"Kansas"</span>, logInfo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="reference/plotPrevalenceOverTime.html">plotPrevalenceOverTime</a></span><span class="op">(</span><span class="va">P681R</span>, title <span class="op">=</span> <span class="st">"Prevalence of S:P681R in Kansas"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="reference/figures/variant_tracker-1.png" alt=""><p class="caption">plot of chunk variant_tracker</p>
</div>
</div>
<div class="section level4">
<h4 id="location-tracker">Location Tracker<a class="anchor" aria-label="anchor" href="#location-tracker"></a>
</h4>
<p>Provides access to the prevalence of all lineages and variants in a country, state/province, or U.S. county, to access the data underlying the <a href="https://outbreak.info/location-reports?loc=USA_US-CA" class="external-link">outbreak.info Location Tracker</a>. View the <a href="articles/locationtracker.html">Location Tracker Vignette</a> to explore more options.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://outbreak-info.github.io/R-outbreak-info/" class="external-link">outbreakinfo</a></span><span class="op">)</span>
<span class="co">#  Provide GISAID credentials using authenticateUser()</span>
<span class="co"># Get the prevalence of all circulating lineages in California over the past 90 days</span>
<span class="va">ca_lineages</span> <span class="op">=</span> <span class="fu"><a href="reference/getAllLineagesByLocation.html">getAllLineagesByLocation</a></span><span class="op">(</span>location <span class="op">=</span> <span class="st">"California"</span>, ndays <span class="op">=</span> <span class="fl">90</span><span class="op">)</span>
<span class="co">#&gt; Retrieving data...</span>

<span class="co"># Plot the prevalence of the dominant lineages in California</span>
<span class="fu"><a href="reference/plotAllLineagesByLocation.html">plotAllLineagesByLocation</a></span><span class="op">(</span>location <span class="op">=</span> <span class="st">"California"</span>, ndays <span class="op">=</span> <span class="fl">90</span><span class="op">)</span>
<span class="co">#&gt; Retrieving data... </span>
<span class="co">#&gt; Plotting data...</span></code></pre></div>
<div class="figure">
<img src="reference/figures/location_tracker-1.png" alt=""><p class="caption">plot of chunk location_tracker</p>
</div>
</div>
<div class="section level4">
<h4 id="lineage-comparison-tool">Lineage Comparison Tool<a class="anchor" aria-label="anchor" href="#lineage-comparison-tool"></a>
</h4>
<p>Provides access to the mutations per lineage, to access the data underlying the <a href="https://outbreak.info/compare-lineages?pango=P.1&amp;gene=ORF1a&amp;gene=ORF1b&amp;gene=S&amp;gene=E&amp;gene=ORF3a&amp;gene=M&amp;gene=ORF10&amp;gene=N&amp;gene=ORF8&amp;gene=ORF7b&amp;gene=ORF7a&amp;gene=ORF6&amp;threshold=80&amp;dark=true" class="external-link">outbreak.info Lineage Comparison Tool</a>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://outbreak-info.github.io/R-outbreak-info/" class="external-link">outbreakinfo</a></span><span class="op">)</span>
<span class="co">#  Provide GISAID credentials using authenticateUser()</span>

<span class="va">lineages_of_interest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BA.2"</span>, <span class="st">"BA.2.12.1"</span>, <span class="st">"BA.4"</span>, <span class="st">"BA.5"</span><span class="op">)</span>

<span class="co"># Get all mutations in the lineages of interest with at least 75% prevalent in one of the lineages.</span>
<span class="va">mutations</span> <span class="op">=</span> <span class="fu"><a href="reference/getMutationsByLineage.html">getMutationsByLineage</a></span><span class="op">(</span>pangolin_lineage<span class="op">=</span><span class="va">lineages_of_interest</span>, frequency<span class="op">=</span><span class="fl">0.75</span>, logInfo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># Plot the mutations as a heatmap</span>
<span class="fu"><a href="reference/plotMutationHeatmap.html">plotMutationHeatmap</a></span><span class="op">(</span><span class="va">mutations</span>, title <span class="op">=</span> <span class="st">"S-gene mutations in lineages"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/lineage_comparison-1.png" title="plot of chunk lineage_comparison" alt="plot of chunk lineage_comparison" width="100%"></p>
</div>
</div>
<div class="section level3">
<h3 id="research-library">Research Library<a class="anchor" aria-label="anchor" href="#research-library"></a>
</h3>
<p>Provides access to the metadata on COVID-19 research, including publications, clinical trials, datasets, protocols, and more.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://outbreak-info.github.io/R-outbreak-info/" class="external-link">outbreakinfo</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span>

<span class="va">resources_by_date</span> <span class="op">=</span> <span class="fu"><a href="reference/getResourcesData.html">getResourcesData</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"date:[2020-01-01 TO *]"</span>, types<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Publication"</span>, <span class="st">"ClinicalTrial"</span>, <span class="st">"Protocol"</span>, <span class="st">"Dataset"</span><span class="op">)</span>, fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"date"</span>, <span class="st">"@type"</span><span class="op">)</span>, fetchAll <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># roll up the number of resources by week</span>
<span class="va">resources_by_date</span> <span class="op">=</span> <span class="va">resources_by_date</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span>,
         iso_week <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/week.html" class="external-link">isoweek</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span>

<span class="co"># count the number of new resources per week.</span>
<span class="va">resources_per_week</span> <span class="op">=</span> <span class="va">resources_by_date</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">`@type`</span>, <span class="va">iso_week</span>, <span class="va">year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="co"># convert from iso week back to a date</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>iso_date <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">parse_date_time</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">year</span>,<span class="va">iso_week</span>, <span class="st">"Mon"</span>, sep<span class="op">=</span><span class="st">"-"</span><span class="op">)</span>, <span class="st">"Y-W-a"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Make it a bit prettier, by sorting by the relative proportion of resource types</span>
<span class="va">type_frequency</span> <span class="op">=</span> <span class="va">resources_by_date</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">`@type`</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">`@type`</span><span class="op">)</span>

<span class="va">resources_per_week</span><span class="op">$</span><span class="va">`@type`</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">resources_per_week</span><span class="op">$</span><span class="va">`@type`</span>, <span class="va">type_frequency</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">resources_per_week</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">iso_date</span>, y <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">`@type`</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"COVID-19 resources have rapidly proliferated"</span>, subtitle<span class="op">=</span><span class="st">"Number of publications, datasets, clinical trials, and more added each week to outbreak.info's Research Library"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>family<span class="op">=</span><span class="st">"DM Sans"</span><span class="op">)</span>,
    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>colour<span class="op">=</span><span class="st">"#777777"</span>, size<span class="op">=</span><span class="fl">9</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_datetime</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">resources_per_week</span><span class="op">$</span><span class="va">iso_date</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">resources_per_week</span><span class="op">$</span><span class="va">iso_date</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span>, date_labels <span class="op">=</span> <span class="st">"%b %Y"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>label<span class="op">=</span><span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html" class="external-link">comma</a></span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Publication <span class="op">=</span> <span class="st">"#e15759"</span>, ClinicalTrial <span class="op">=</span> <span class="st">"#b475a3"</span>, Dataset <span class="op">=</span> <span class="st">"#126b93"</span>, Protocol <span class="op">=</span> <span class="st">"#59a14f"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">`@type`</span>, scales <span class="op">=</span> <span class="st">"free_y"</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span>
<span class="co">#&gt; Error in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : polygon edge not found</span></code></pre></div>
<div class="figure">
<img src="reference/figures/resources_by_date-1.png" alt=""><p class="caption">plot of chunk resources_by_date</p>
</div>
</div>
<div class="section level3">
<h3 id="cases--deaths">Cases &amp; Deaths<a class="anchor" aria-label="anchor" href="#cases--deaths"></a>
</h3>
<p>Replicates the daily confirmed cases visualization on <a href="https://outbreak.info/epidemiology" class="external-link">outbreak.info</a> - in this example, <a href="https://outbreak.info/epidemiology?location=USA%3BMEX&amp;log=false&amp;variable=confirmed_rolling&amp;xVariable=date&amp;fixedY=false&amp;percapita=true" class="external-link">the United States and Mexico</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plots the daily confirmed cases per capita for the United States and Mexico.</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://outbreak-info.github.io/R-outbreak-info/" class="external-link">outbreakinfo</a></span><span class="op">)</span>
<span class="fu"><a href="reference/plotEpiData.html">plotEpiData</a></span><span class="op">(</span>locations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"United States of America"</span>, <span class="st">"Mexico"</span><span class="op">)</span>, variable <span class="op">=</span> <span class="st">"confirmed_rolling_per_100k"</span><span class="op">)</span>
<span class="co">#&gt; Mexico (metropolitan area)</span>
<span class="co">#&gt;   downloading [==============================] 100% eta:  0s</span></code></pre></div>
<div class="figure">
<img src="reference/figures/daily_cases-1.png" alt=""><p class="caption">plot of chunk daily_cases</p>
</div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="data-sources">Data Sources<a class="anchor" aria-label="anchor" href="#data-sources"></a>
</h2>
<div class="section level3">
<h3 id="sars-cov-2-virus-sequences">SARS-CoV-2 virus sequences<a class="anchor" aria-label="anchor" href="#sars-cov-2-virus-sequences"></a>
</h3>
<p>We would like to thank the GISAID Initiative and are grateful to all of the data contributors, i.e.the Authors, the Originating laboratories responsible for obtaining the specimens, and the Submitting laboratories for generating the genetic sequence and metadata and sharing via the GISAID Initiative, on which this research is based.</p>
<pre><code>TERMS OF USE for R Package and

Reminder of GISAID's Database Access Agreement

Your ability to access and use Data in GISAID, including your access and
use of same via R Package, is subject to the terms and conditions of
GISAID's Database Access Agreement (“DAA”) (which you agreed to
when you requested access credentials to GISAID), as well as the
following terms:

1. You will treat all data contained in the R Package consistent with
other Data in GISAID and in accordance with GISAID's Database Access
Agreement;

2. You will not distribute, or re-distribute Data made available through
GISAID to any third party other than Authorized Users as contemplated by
the DAA;

3. USE OF R PACKAGE: Any visualizations, charts, graphs,
graphics, pictographs, plots, or other displays you create via the R
Package may be exclusively used for academic and research purposes.
No other types of uses are allowed;

4. Any use of visualizations, charts, graphs, graphics, pictographs,
plots, or other displays created via the R Package in an academic or
research publication, including in a paper, manuscript, preprint, website,
web service, or any other media material must be in conformity with the
GISAID Publishing Guidelines, available at https://www.gisaid.org/publish,
and the DAA, available at https://www.gisaid.org/daa; and

5. By using the R Package you reaffirm your understanding of these
terms and the DAA.

When using this data, please state, "This data was obtained from GISAID via the outbreak.info API". WE DO NOT SUPPORT THIRD PARTY APPLICATIONS. THIS PACKAGE IS MEANT FOR RESEARCH AND VISUALIZATION PURPOSES ONLY. If you want to build third party applications, please contact GISAID via [https://www.gisaid.org/help/contact/](https://www.gisaid.org/help/contact/).
</code></pre>
</div>
<div class="section level3">
<h3 id="cases--deaths-1">Cases &amp; deaths<a class="anchor" aria-label="anchor" href="#cases--deaths-1"></a>
</h3>
<p>Confirmed cases, recovered cases, and deaths over time for countries outside the United States, and provinces in Australia, Canada, and China are provided by <a href="https://github.com/CSSEGISandData/COVID-19" class="external-link">Johns Hopkins University Center for Systems Science and Engineering</a>. See <a href="https://systems.jhu.edu/research/public-health/2019-ncov-map-faqs/" class="external-link">data FAQ</a>.</p>
<p>Confirmed cases and deaths over time for the United States, U.S. States, U.S. Metropolitan Areas, U.S. cities and U.S. counties are provided by the <a href="https://github.com/nytimes/covid-19-data" class="external-link">New York Times</a>. Note that “New York City” refers to the combined totals for New York, Kings, Queens, Bronx and Richmond Counties; “Kansas City” refers to cases within the Missouri portion of the Kansas City Metropolitan area and values for Jackson, Cass, Clay, and Platte counties are the totals excluding the KCMO data; cities like St. Louis that are administered separately from their containing county are reported separately. See other <a href="https://github.com/nytimes/covid-19-data#geographic-exceptions" class="external-link">geographic exceptions</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/outbreak-info/R-outbreak-info/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/outbreak-info/R-outbreak-info/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing outbreakinfo</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Manar Alkuzweny <br><small class="roles"> Author, maintainer </small>  </li>
<li>Karthik Gangavarapu <br><small class="roles"> Author </small>  </li>
<li>Laura Hughes <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Manar Alkuzweny, Karthik Gangavarapu, Laura Hughes.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
